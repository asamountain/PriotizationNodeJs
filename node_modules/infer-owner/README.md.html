<html><head><title>README.md</title></head><body><h1>infer-owner</h1>
<p>Infer the owner of a path based on the owner of its nearest existing parent</p>
<h2>USAGE</h2>
<pre><code class="language-js">const inferOwner = require('infer-owner')

inferOwner('/some/cache/folder/file').then(owner =&gt; {
  // owner is {uid, gid} that should be attached to
  // the /some/cache/folder/file, based on ownership
  // of /some/cache/folder, /some/cache, /some, or /,
  // whichever is the first to exist
})

// same, but not async
const owner = inferOwner.sync('/some/cache/folder/file')

// results are cached!  to reset the cache (eg, to change
// permissions for whatever reason), do this:
inferOwner.clearCache()
</code></pre>
<p>This module endeavors to be as performant as possible.  Parallel requests
for ownership of the same path will only stat the directories one time.</p>
<h2>API</h2>
<ul>
<li>
<p><code>inferOwner(path) -&gt; Promise&lt;{ uid, gid }&gt;</code></p>
<p>If the path exists, return its uid and gid.  If it does not, look to
its parent, then its grandparent, and so on.</p>
</li>
<li>
<p><code>inferOwner(path) -&gt; { uid, gid }</code></p>
<p>Sync form of <code>inferOwner(path)</code>.</p>
</li>
<li>
<p><code>inferOwner.clearCache()</code></p>
<p>Delete all cached ownership information and in-flight tracking.</p>
</li>
</ul>
</body></html>