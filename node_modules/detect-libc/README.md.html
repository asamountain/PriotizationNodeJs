<html><head><title>README.md</title></head><body><h1>detect-libc</h1>
<p>Node.js module to detect details of the C standard library (libc)
implementation provided by a given Linux system.</p>
<p>Currently supports detection of GNU glibc and MUSL libc.</p>
<p>Provides asychronous and synchronous functions for the
family (e.g. <code>glibc</code>, <code>musl</code>) and version (e.g. <code>1.23</code>, <code>1.2.3</code>).</p>
<p>The version numbers of libc implementations
are not guaranteed to be semver-compliant.</p>
<p>For previous v1.x releases, please see the
<a href="https://github.com/lovell/detect-libc/tree/v1">v1</a> branch.</p>
<h2>Install</h2>
<pre><code class="language-sh">npm install detect-libc
</code></pre>
<h2>API</h2>
<h3>GLIBC</h3>
<pre><code class="language-ts">const GLIBC: string = 'glibc';
</code></pre>
<p>A String constant containing the value <code>glibc</code>.</p>
<h3>MUSL</h3>
<pre><code class="language-ts">const MUSL: string = 'musl';
</code></pre>
<p>A String constant containing the value <code>musl</code>.</p>
<h3>family</h3>
<pre><code class="language-ts">function family(): Promise&lt;string | null&gt;;
</code></pre>
<p>Resolves asychronously with:</p>
<ul>
<li><code>glibc</code> or <code>musl</code> when the libc family can be determined</li>
<li><code>null</code> when the libc family cannot be determined</li>
<li><code>null</code> when run on a non-Linux platform</li>
</ul>
<pre><code class="language-js">const { family, GLIBC, MUSL } = require('detect-libc');

switch (await family()) {
  case GLIBC: ...
  case MUSL: ...
  case null: ...
}
</code></pre>
<h3>familySync</h3>
<pre><code class="language-ts">function familySync(): string | null;
</code></pre>
<p>Synchronous version of <code>family()</code>.</p>
<pre><code class="language-js">const { familySync, GLIBC, MUSL } = require('detect-libc');

switch (familySync()) {
  case GLIBC: ...
  case MUSL: ...
  case null: ...
}
</code></pre>
<h3>version</h3>
<pre><code class="language-ts">function version(): Promise&lt;string | null&gt;;
</code></pre>
<p>Resolves asychronously with:</p>
<ul>
<li>The version when it can be determined</li>
<li><code>null</code> when the libc family cannot be determined</li>
<li><code>null</code> when run on a non-Linux platform</li>
</ul>
<pre><code class="language-js">const { version } = require('detect-libc');

const v = await version();
if (v) {
  const [major, minor, patch] = v.split('.');
}
</code></pre>
<h3>versionSync</h3>
<pre><code class="language-ts">function versionSync(): string | null;
</code></pre>
<p>Synchronous version of <code>version()</code>.</p>
<pre><code class="language-js">const { versionSync } = require('detect-libc');

const v = versionSync();
if (v) {
  const [major, minor, patch] = v.split('.');
}
</code></pre>
<h3>isNonGlibcLinux</h3>
<pre><code class="language-ts">function isNonGlibcLinux(): Promise&lt;boolean&gt;;
</code></pre>
<p>Resolves asychronously with:</p>
<ul>
<li><code>false</code> when the libc family is <code>glibc</code></li>
<li><code>true</code> when the libc family is not <code>glibc</code></li>
<li><code>false</code> when run on a non-Linux platform</li>
</ul>
<pre><code class="language-js">const { isNonGlibcLinux } = require('detect-libc');

if (await isNonGlibcLinux()) { ... }
</code></pre>
<h3>isNonGlibcLinuxSync</h3>
<pre><code class="language-ts">function isNonGlibcLinuxSync(): boolean;
</code></pre>
<p>Synchronous version of <code>isNonGlibcLinux()</code>.</p>
<pre><code class="language-js">const { isNonGlibcLinuxSync } = require('detect-libc');

if (isNonGlibcLinuxSync()) { ... }
</code></pre>
<h2>Licensing</h2>
<p>Copyright 2017 Lovell Fuller and others.</p>
<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0.html">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</body></html>