<html><head><title>README.md</title></head><body><h1>json-schema-traverse</h1>
<p>Traverse JSON Schema passing each schema object to callback</p>
<p><a href="https://github.com/epoberezkin/json-schema-traverse/actions?query=workflow%3Abuild"><img src="https://github.com/epoberezkin/json-schema-traverse/workflows/build/badge.svg" alt="build" /></a>
<a href="https://www.npmjs.com/package/json-schema-traverse"><img src="https://img.shields.io/npm/v/json-schema-traverse" alt="npm" /></a>
<a href="https://coveralls.io/github/epoberezkin/json-schema-traverse?branch=master"><img src="https://coveralls.io/repos/github/epoberezkin/json-schema-traverse/badge.svg?branch=master" alt="coverage" /></a></p>
<h2>Install</h2>
<pre><code>npm install json-schema-traverse
</code></pre>
<h2>Usage</h2>
<pre><code class="language-javascript">const traverse = require('json-schema-traverse');
const schema = {
  properties: {
    foo: {type: 'string'},
    bar: {type: 'integer'}
  }
};

traverse(schema, {cb});
// cb is called 3 times with:
// 1. root schema
// 2. {type: 'string'}
// 3. {type: 'integer'}

// Or:

traverse(schema, {cb: {pre, post}});
// pre is called 3 times with:
// 1. root schema
// 2. {type: 'string'}
// 3. {type: 'integer'}
//
// post is called 3 times with:
// 1. {type: 'string'}
// 2. {type: 'integer'}
// 3. root schema

</code></pre>
<p>Callback function <code>cb</code> is called for each schema object (not including draft-06 boolean schemas), including the root schema, in pre-order traversal. Schema references ($ref) are not resolved, they are passed as is.  Alternatively, you can pass a <code>{pre, post}</code> object as <code>cb</code>, and then <code>pre</code> will be called before traversing child elements, and <code>post</code> will be called after all child elements have been traversed.</p>
<p>Callback is passed these parameters:</p>
<ul>
<li><em>schema</em>: the current schema object</li>
<li><em>JSON pointer</em>: from the root schema to the current schema object</li>
<li><em>root schema</em>: the schema passed to <code>traverse</code> object</li>
<li><em>parent JSON pointer</em>: from the root schema to the parent schema object (see below)</li>
<li><em>parent keyword</em>: the keyword inside which this schema appears (e.g. <code>properties</code>, <code>anyOf</code>, etc.)</li>
<li><em>parent schema</em>: not necessarily parent object/array; in the example above the parent schema for <code>{type: 'string'}</code> is the root schema</li>
<li><em>index/property</em>: index or property name in the array/object containing multiple schemas; in the example above for <code>{type: 'string'}</code> the property name is <code>'foo'</code></li>
</ul>
<h2>Traverse objects in all unknown keywords</h2>
<pre><code class="language-javascript">const traverse = require('json-schema-traverse');
const schema = {
  mySchema: {
    minimum: 1,
    maximum: 2
  }
};

traverse(schema, {allKeys: true, cb});
// cb is called 2 times with:
// 1. root schema
// 2. mySchema
</code></pre>
<p>Without option <code>allKeys: true</code> callback will be called only with root schema.</p>
<h2>Enterprise support</h2>
<p>json-schema-traverse package is a part of <a href="https://tidelift.com/subscription/pkg/npm-json-schema-traverse?utm_source=npm-json-schema-traverse&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo">Tidelift enterprise subscription</a> - it provides a centralised commercial support to open-source software users, in addition to the support provided by software maintainers.</p>
<h2>Security contact</h2>
<p>To report a security vulnerability, please use the
<a href="https://tidelift.com/security">Tidelift security contact</a>.
Tidelift will coordinate the fix and disclosure. Please do NOT report security vulnerability via GitHub issues.</p>
<h2>License</h2>
<p><a href="https://github.com/epoberezkin/json-schema-traverse/blob/master/LICENSE">MIT</a></p>
</body></html>