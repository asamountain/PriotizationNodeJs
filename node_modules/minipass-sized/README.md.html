<html><head><title>README.md</title></head><body><h1>minipass-sized</h1>
<p>A Minipass stream that raises an error if you get a different number of
bytes than expected.</p>
<h2>USAGE</h2>
<p>Use just like any old <a href="http://npm.im/minipass">minipass</a> stream, but
provide a <code>size</code> option to the constructor.</p>
<p>The <code>size</code> option must be a positive integer, smaller than
<code>Number.MAX_SAFE_INTEGER</code>.</p>
<pre><code class="language-js">const MinipassSized = require('minipass-sized')
// figure out how much data you expect to get
const expectedSize = +headers['content-length']
const stream = new MinipassSized({ size: expectedSize })
stream.on('error', er =&gt; {
  // if it's the wrong size, then this will raise an error with
  // { found: &lt;number&gt;, expect: &lt;number&gt;, code: 'EBADSIZE' }
})
response.pipe(stream)
</code></pre>
<p>Caveats: this does not work with <code>objectMode</code> streams, and will throw a
<code>TypeError</code> from the constructor if the size argument is missing or
invalid.</p>
</body></html>