<html><head><title>README.md</title></head><body><h1>merge2</h1>
<p>Merge multiple streams into one stream in sequence or parallel.</p>
<p><a href="https://npmjs.org/package/merge2"><img src="http://img.shields.io/npm/v/merge2.svg" alt="NPM version" /></a>
<a href="https://travis-ci.org/teambition/merge2"><img src="http://img.shields.io/travis/teambition/merge2.svg" alt="Build Status" /></a>
<a href="https://npmjs.org/package/merge2"><img src="http://img.shields.io/npm/dm/merge2.svg?style=flat-square" alt="Downloads" /></a></p>
<h2>Install</h2>
<p>Install with <a href="https://npmjs.org/package/merge2">npm</a></p>
<pre><code class="language-sh">npm install merge2
</code></pre>
<h2>Usage</h2>
<pre><code class="language-js">const gulp = require('gulp')
const merge2 = require('merge2')
const concat = require('gulp-concat')
const minifyHtml = require('gulp-minify-html')
const ngtemplate = require('gulp-ngtemplate')

gulp.task('app-js', function () {
  return merge2(
      gulp.src('static/src/tpl/*.html')
        .pipe(minifyHtml({empty: true}))
        .pipe(ngtemplate({
          module: 'genTemplates',
          standalone: true
        })
      ), gulp.src([
        'static/src/js/app.js',
        'static/src/js/locale_zh-cn.js',
        'static/src/js/router.js',
        'static/src/js/tools.js',
        'static/src/js/services.js',
        'static/src/js/filters.js',
        'static/src/js/directives.js',
        'static/src/js/controllers.js'
      ])
    )
    .pipe(concat('app.js'))
    .pipe(gulp.dest('static/dist/js/'))
})
</code></pre>
<pre><code class="language-js">const stream = merge2([stream1, stream2], stream3, {end: false})
//...
stream.add(stream4, stream5)
//..
stream.end()
</code></pre>
<pre><code class="language-js">// equal to merge2([stream1, stream2], stream3)
const stream = merge2()
stream.add([stream1, stream2])
stream.add(stream3)
</code></pre>
<pre><code class="language-js">// merge order:
//   1. merge `stream1`;
//   2. merge `stream2` and `stream3` in parallel after `stream1` merged;
//   3. merge 'stream4' after `stream2` and `stream3` merged;
const stream = merge2(stream1, [stream2, stream3], stream4)

// merge order:
//   1. merge `stream5` and `stream6` in parallel after `stream4` merged;
//   2. merge 'stream7' after `stream5` and `stream6` merged;
stream.add([stream5, stream6], stream7)
</code></pre>
<pre><code class="language-js">// nest merge
// equal to merge2(stream1, stream2, stream6, stream3, [stream4, stream5]);
const streamA = merge2(stream1, stream2)
const streamB = merge2(stream3, [stream4, stream5])
const stream = merge2(streamA, streamB)
streamA.add(stream6)
</code></pre>
<h2>API</h2>
<pre><code class="language-js">const merge2 = require('merge2')
</code></pre>
<h3>merge2()</h3>
<h3>merge2(options)</h3>
<h3>merge2(stream1, stream2, ..., streamN)</h3>
<h3>merge2(stream1, stream2, ..., streamN, options)</h3>
<h3>merge2(stream1, [stream2, stream3, ...], streamN, options)</h3>
<p>return a duplex stream (mergedStream). streams in array will be merged in parallel.</p>
<h3>mergedStream.add(stream)</h3>
<h3>mergedStream.add(stream1, [stream2, stream3, ...], ...)</h3>
<p>return the mergedStream.</p>
<h3>mergedStream.on('queueDrain', function() {})</h3>
<p>It will emit 'queueDrain' when all streams merged. If you set <code>end === false</code> in options, this event give you a notice that should add more streams to merge or end the mergedStream.</p>
<h4>stream</h4>
<p><em>option</em>
Type: <code>Readable</code> or <code>Duplex</code> or <code>Transform</code> stream.</p>
<h4>options</h4>
<p><em>option</em>
Type: <code>Object</code>.</p>
<ul>
<li>
<p><strong>end</strong> - <code>Boolean</code> - if <code>end === false</code> then mergedStream will not be auto ended, you should end by yourself. <strong>Default:</strong> <code>undefined</code></p>
</li>
<li>
<p><strong>pipeError</strong> - <code>Boolean</code> - if <code>pipeError === true</code> then mergedStream will emit <code>error</code> event from source streams. <strong>Default:</strong> <code>undefined</code></p>
</li>
<li>
<p><strong>objectMode</strong> - <code>Boolean</code> . <strong>Default:</strong> <code>true</code></p>
</li>
</ul>
<p><code>objectMode</code> and other options(<code>highWaterMark</code>, <code>defaultEncoding</code> ...) is same as Node.js <code>Stream</code>.</p>
<h2>License</h2>
<p>MIT Â© <a href="https://www.teambition.com">Teambition</a></p>
</body></html>