<html><head><title>readme.md</title></head><body><h1>parse-json</h1>
<blockquote>
<p>Parse JSON with more helpful errors</p>
</blockquote>
<h2>Install</h2>
<pre><code>$ npm install parse-json
</code></pre>
<h2>Usage</h2>
<pre><code class="language-js">const parseJson = require('parse-json');

const json = '{\n\t&quot;foo&quot;: true,\n}';


JSON.parse(json);
/*
undefined:3
}
^
SyntaxError: Unexpected token }
*/


parseJson(json);
/*
JSONError: Unexpected token } in JSON at position 16 while parsing near '{      &quot;foo&quot;: true,}'

  1 | {
  2 |   &quot;foo&quot;: true,
&gt; 3 | }
    | ^
*/


parseJson(json, 'foo.json');
/*
JSONError: Unexpected token } in JSON at position 16 while parsing near '{      &quot;foo&quot;: true,}' in foo.json

  1 | {
  2 |   &quot;foo&quot;: true,
&gt; 3 | }
    | ^
*/


// You can also add the filename at a later point
try {
	parseJson(json);
} catch (error) {
	if (error instanceof parseJson.JSONError) {
		error.fileName = 'foo.json';
	}

	throw error;
}
/*
JSONError: Unexpected token } in JSON at position 16 while parsing near '{      &quot;foo&quot;: true,}' in foo.json

  1 | {
  2 |   &quot;foo&quot;: true,
&gt; 3 | }
    | ^
*/
</code></pre>
<h2>API</h2>
<h3>parseJson(string, reviver?, filename?)</h3>
<p>Throws a <code>JSONError</code> when there is a parsing error.</p>
<h4>string</h4>
<p>Type: <code>string</code></p>
<h4>reviver</h4>
<p>Type: <code>Function</code></p>
<p>Prescribes how the value originally produced by parsing is transformed, before being returned. See <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter"><code>JSON.parse</code> docs</a> for more.</p>
<h4>filename</h4>
<p>Type: <code>string</code></p>
<p>Filename displayed in the error message.</p>
<h3>parseJson.JSONError</h3>
<p>Exposed for <code>instanceof</code> checking.</p>
<h4>fileName</h4>
<p>Type: <code>string</code></p>
<p>The filename displayed in the error message.</p>
<h4>codeFrame</h4>
<p>Type: <code>string</code></p>
<p>The printable section of the JSON which produces the error.</p>
<hr />
<!-- raw HTML omitted -->
</body></html>